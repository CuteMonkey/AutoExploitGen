#include <stdio.h>
#include <string.h>
#include <unistd.h>
#include "s2e.h"

int main(int argc, char **argv)
{

  if(argc < 3)
  {
    printf("error\n");
    return 0;
  }
  printf("%s\n",argv[1]);
  printf("%d\n",strlen(argv[2]));


  s2e_make_symbolic(argv[2], strlen(argv[2]), "arg");
  //s2e_make_symbolic(argv[2], strlen(argv[2]), "arg", 0);

  int pid = fork();
   
  if(pid == 0 )
  {
    execl(argv[1], argv[1], argv[2], NULL);
  }
  else
  {
    wait();
    s2e_kill_state(0, "over");
  }

  return 0;
}
