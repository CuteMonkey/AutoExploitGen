import socket, time, sys

qemu_addr = ('0.0.0.0', 5555)

#cmds is a list or tuple
def control_qemu(cmds):
    try:
        qemu_sock = socket.socket()
        qemu_sock.connect(qemu_addr)
    except socket.error:
        print('Some errors occur in socket.')
    else:
        for cmd in cmds:
            time.sleep(2)
            qemu_sock.sendall(bytes(cmd + '\n', 'ascii'))
    finally:
        qemu_sock.close()

control_qemu(sys.argv[1:])
